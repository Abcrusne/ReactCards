(this.webpackJsonppavadinimas=this.webpackJsonppavadinimas||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/samsung-big.2c4304b5.jpg"},18:function(e,t){e.exports="data:image/jpeg;base64,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"},36:function(e,t,a){e.exports=a(65)},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),l=a(4),i=(a(41),a(23),r.a.createContext(null)),s=a(11),u=function e(){var t=this;Object(s.a)(this,e),this.getCurrentUser=function(){return t._currentUser},this.getCartCount=function(){return t._cartCount},this.setCurrentUser=function(e){t._currentUser=e},this.setCartCount=function(e){t._cartCount=e},this.updateCurrentUser=function(){},this.updateCartCount=function(){},this._currentUser=void 0,this._cartCount=0},m=a(1),d=(a(42),a(5)),p=a(2),f=a.n(p),v=function(e){var t=e.cartCount;return r.a.createElement("h5",null,t," Items")},E="http://localhost:8081/hello-world",h=function(){var e=Object(n.useContext)(i).userCartService,t=Object(n.useState)(e.getCurrentUser()),a=Object(d.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.getCartCount()),s=Object(d.a)(l,2),u=s[0],m=s[1];return e.updateCurrentUser=function(){return o(e.getCurrentUser())},e.updateCartCount=function(){return m(e.getCartCount())},Object(n.useEffect)((function(){void 0!==c&&f.a.get("".concat(E,"/api/users/").concat(c,"/cart-products")).then((function(t){e.setCartCount(t.data.length()),e.updateCartCount()})).catch((function(e){return console.log(e)}))}),[c,u,e]),r.a.createElement(v,{cartCount:u})},g=function(e){var t=e.currentUser,a=e.username,n=e.handleLogin,c=e.handleLogout,o=e.handleChange;return void 0===t?(console.log("current user is undefined"),r.a.createElement("form",{className:"navbar-form form-inline ml-1",onSubmit:n},r.a.createElement("input",{onChange:o,className:"form-control mb-mr-md-1",type:"text",name:"username",placeholder:"Username",value:a,required:!0}),r.a.createElement("button",{className:"btn btn-dark ",type:"submit"},"Login"," "))):(console.log("current user is defined"),r.a.createElement("div",{className:"form-inline"},r.a.createElement("span",{className:"form-control mr-sm-2 ml-md-3",type:"text"},"Hi ",t,"!"),r.a.createElement("button",{className:"btn btn-outline-dark",onClick:c},"Logout")))},b=function(){var e=Object(n.useContext)(i).userCartService,t=Object(m.f)(),a=Object(n.useState)(e.getCurrentUser()),c=Object(d.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),u=Object(d.a)(s,2),p=u[0],v=u[1];e.updateCurrentUser=function(){return l(e.getCurrentUser(),console.log(e.getCurrentUser()))};return r.a.createElement(g,{handleChange:function(e){v(e.target.value)},handleLogin:function(a){a.preventDefault();var n=a.target.username.value;e.setCurrentUser(n),e.updateCurrentUser(),v(""),f.a.post("".concat(E,"/api/users/"),{username:n}).then((function(){return f.a.get("".concat(E,"/api/users/").concat(n,"/cart-products")).then((function(t){e.setCartCount(t.data.length),e.updateCartCount()})).catch((function(e){return console.log(e)}))})).then((function(){return t.push("/")}))},handleLogout:function(a){a.preventDefault(),e.setCurrentUser(void 0),l(void 0),e.updateCurrentUser(),e.setCartCount(0),e.updateCartCount(),t.push("/")},currentUser:o,username:p})},A=function(){var e=Object(n.useContext)(i).userCartService,t=Object(n.useState)(e.getCurrentUser()),a=Object(d.a)(t,2),c=a[0],o=a[1];return e.updateCurrentUser=function(){return o(e.getCurrentUser())},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"nav navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(l.c,{className:"nav-link",exact:!0,to:"/"},"Home")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(l.c,{className:"nav-link",to:"/admin/products"},"Admin")),r.a.createElement(b,null)),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(l.c,{className:"nav-link",to:"/users/".concat(c,"/cart-products")},r.a.createElement(h,null))))))},C=a(10),j=a(14),y=a(16),N=a(15),U=a(12),O=a.n(U),k=function(e){var t=e.id,a=(e.itemImg,Object(C.a)(e,["id","itemImg"]));return console.log("Product Card: ",t),r.a.createElement("div",{className:"card col-12 col-md-6 col-lg-4 my-3"},r.a.createElement("img",{src:O.a,className:"card-img-top",alt:a.title}),r.a.createElement("div",{className:"card-body "},r.a.createElement("h5",{className:"card-title"},"Title: ",a.title),r.a.createElement("p",{className:"card-text"},"Description: ",a.description),r.a.createElement("p",null,"Price: ",a.price),r.a.createElement("p",{className:"card-quantity"},"Quantity in Stock:"," ",a.quantity<=0?"Out of stock":"In stock"," "),r.a.createElement(l.b,{to:"/product/".concat(t),className:"btn btn-dark"},"More info")))},P=function(e){Object(y.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={products:{}},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(E,"/api/products")).then((function(t){e.setState({products:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.products.data;return e?r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",{className:"row d-flex justify-content-center"},e.map((function(e){var t=e.id,a=Object(C.a)(e,["id"]);return r.a.createElement(k,Object.assign({key:t,id:t,itemImg:O.a},a))})))):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border m-5 text-dark",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(n.Component),B=function(e){var t=e.title,a=(e.image,e.description),n=e.price,c=e.quantity,o=e.currentUser,i=e.addToCart;return r.a.createElement("div",null,r.a.createElement("div",{className:"media"},r.a.createElement("img",{className:"align-self-start mr-3",src:O.a,alt:t,style:{height:"25rem"}}),r.a.createElement("div",{className:"media-body mt-3"},r.a.createElement("h5",{className:"mt-0"},t),r.a.createElement("p",null,"Description: ",a),r.a.createElement("p",null,"Price: ",n," \u20ac"),r.a.createElement("p",null,"Quantity: ",c," "))),r.a.createElement("div",{className:"row ml-5 mt-3"},void 0!==o?r.a.createElement("button",{className:"btn btn-primary mr-1",onClick:i},"Add to cart"):r.a.createElement("div",null," alert(You need to login to add products to your cart.)"),r.a.createElement(l.b,{to:"/",className:"btn btn-outline-dark"},"Go back")))},S=function(e){var t=Object(n.useContext)(i).userCartService,a=Object(n.useState)(t.getCurrentUser()),c=Object(d.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(null),u=Object(d.a)(s,2),m=u[0],p=u[1];t.updateCurrentUser=function(){return l(t.getCurrentUser())},Object(n.useEffect)((function(){f.a.get("".concat(E,"/api/products/").concat(e.match.params.id)).then((function(e){return p(e.data)})).catch((function(e){return console.log(e)}))}),[e.match.params.id]);if(null!==m){var v=m.id,h=m.image,g=m.title,b=Object(C.a)(m,["id","image","title"]);return console.log(v),r.a.createElement("div",{className:"container"},r.a.createElement("div",{key:v},r.a.createElement(B,Object.assign({id:v,currentUser:o,userCartService:t,image:h,addToCart:function(){f.a.post("".concat(E,"/api/users/").concat(o,"/cart-products"),{id:m.id,image:m.image||"",title:m.title}).then((function(){f.a.get("".concat(E,"/api/users/").concat(o,"/cart-products")).then((function(e){t.setCartCount(e.data.length),t.updateCartCount()}))})).catch((function(e){return console.log(e)}))},title:g},b))))}return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border m-5 text-dark",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},F=a(35),Q=function(e){var t=e.handleChange,a=e.handleSubmit,n=Object(C.a)(e,["handleChange","handleSubmit"]),c=n.title,o=n.image,l=n.description,i=n.price,s=n.quantity;return r.a.createElement("div",null,r.a.createElement("form",{className:"container my-5",onSubmit:a},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productTitle"},"Title"),r.a.createElement("input",{onChange:t,type:"text",className:"form-control",id:"productTitle",name:"title",value:c})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productImage"},"Image"),r.a.createElement("input",{onChange:t,type:"text",className:"form-control",id:"productImage",name:"image",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productDescription"},"Description"),r.a.createElement("textarea",{onChange:t,className:"form-control",id:"productDescription",rows:"3",name:"description",value:l})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-6"},r.a.createElement("label",{htmlFor:"productPrice"},"Price"),r.a.createElement("input",{onChange:t,type:"text",className:"form-control",id:"productPrice",name:"price",value:i})),r.a.createElement("div",{className:"form-group col-6"},r.a.createElement("label",{htmlFor:"productQuantity"},"Quantity"),r.a.createElement("input",{onChange:t,type:"text",className:"form-control",id:"productQuantity",name:"quantity",value:s}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))},x=function(e){Object(y.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.state.id>0?f.a.put("".concat(E,"/api/products/").concat(n.state.id),{description:n.state.description,id:n.state.id,image:n.state.image,price:n.state.price,quantity:n.state.quantity,title:n.state.title}).then((function(){return n.props.history.push("/admin/products")})):(f.a.post("".concat(E,"/api/products"),{description:e.target.description.value,id:n.state.id,image:e.target.image.value,price:e.target.price.value,quantity:e.target.quantity.value,title:e.target.title.value}).then((function(){return n.props.history.push("/admin/products")})),n.setState({title:"",image:"",description:"",price:"",quantity:""}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(F.a)({},a,r))},n.state={title:"",image:"",description:"",price:"",quantity:"",id:0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id>0&&f.a.get("".concat(E,"/api/products/").concat(this.props.match.params.id)).then((function(t){return e.setState({id:t.data.id||"",title:t.data.title||"",description:t.data.description||"",image:t.data.image||"",price:t.data.price||"",quantity:t.data.quantity||""})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(Q,Object.assign({handleSubmit:this.handleSubmit,handleChange:this.handleChange},this.state))}}]),a}(n.Component),X=Object(m.g)(x),w=a(18),W=a.n(w),D=function(e){var t=e.id,a=(e.image,e.title);return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,r.a.createElement("img",{src:W.a,className:"card-img-top",style:{width:50,height:50},alt:a})),r.a.createElement("td",null,r.a.createElement(l.b,{to:"/admin/products/".concat(t)},a," "))))},I=function(e){Object(y.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={products:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(E,"/api/products")).then((function(t){e.setState({products:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.products.data;return e?(console.log(e),r.a.createElement("div",{className:"container mt-5"},r.a.createElement(l.b,{to:"/admin/products/new",className:"btn btn-primary mb-5"},"Add new product"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Title"))),e.map((function(e){var t=e.id,a=(e.image,Object(C.a)(e,["id","image"]));return r.a.createElement(D,Object.assign({key:t,id:t,image:O.a},a))}))))):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border m-5 text-dark",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(n.Component),R=function(e){var t=e.userProducts,a=e.currentUser,n=e.deleteFromCart;return t.length>0?r.a.createElement("div",{className:"container mt-6"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"}))),t.map((function(e){var t=e.id,a=e.title;return r.a.createElement("tbody",{key:t},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:W.a,className:"card-img-top",style:{width:50,height:50},alt:a})),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:n,value:t},"Delete from cart"))))})))):r.a.createElement("div",{className:"d-flex justify-content-center"},void 0!==a?r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",null," You do not have any products in your cart."),r.a.createElement(l.b,{to:"/",className:"btn btn-dark"},"Back")):r.a.createElement("h5",null," Please Login!"))},H=function(){var e=Object(n.useContext)(i).userCartService,t=Object(n.useState)(e.getCurrentUser()),a=Object(d.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),s=Object(d.a)(l,2),u=s[0],m=s[1];e.updateCurrentUser=function(){return o(e.getCurrentUser())},Object(n.useEffect)((function(){f.a.get("".concat(E,"/api/users/").concat(c,"/cart-products")).then((function(e){m(e.data)})).catch((function(e){return console.log(e)}))}),[c]);return r.a.createElement(R,{deleteFromCart:function(t){f.a.delete("".concat(E,"/api/users/").concat(c,"/cart-products/").concat(t.target.value)).then((function(){f.a.get("".concat(E,"/api/users/").concat(c,"/cart-products")).then((function(t){m(t.data),e.setCartCount(t.data.length),e.updateCartCount()})).catch((function(e){return console.log(e)}))}))},currentUser:c,userProducts:u})},K=function(e){return r.a.createElement("div",{className:"text-center "},r.a.createElement("h5",null,"Route did not match."),r.a.createElement("button",{className:"btn btn-dark ml-3",onClick:function(){return e.history.push("/")}},"Go Home"))},M=function(e){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:P}),r.a.createElement(m.a,{path:"/products",component:P}),r.a.createElement(m.a,{path:"/product/:id",component:S}),r.a.createElement(m.a,{path:"/admin/products/new",component:X}),r.a.createElement(m.a,{path:"/admin/products/:id",component:X}),r.a.createElement(m.a,{path:"/admin/products",component:I}),r.a.createElement(m.a,{path:"/users/:username/cart-products",component:H}),r.a.createElement(m.a,{path:"*",component:K}),r.a.createElement(m.a,{component:K})),e.children)};document.title="E-shop";var q=new u;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{basename:"/hello-world"},r.a.createElement(i.Provider,{value:{userCartService:q}},r.a.createElement(M,null)))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.e93b4ac0.chunk.js.map